<svg xmlns="http://www.w3.org/2000/svg" width="1120" height="420" viewBox="0 0 1120 420" role="img" aria-labelledby="title desc">
  <title id="title">Lite Gateway Docker Benchmark Architecture</title>
  <desc id="desc">Architecture showing cert generation, load client, Dockerized .NET and Rust proxies, and benchmark logs.</desc>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
    <style>
      .box { stroke-width: 2; rx: 10; ry: 10; }
      .t { font-family: -apple-system, Segoe UI, Roboto, Arial, sans-serif; font-size: 14px; fill: #111; }
      .small { font-size: 12px; fill: #222; }
      .line { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrow); }
    </style>
  </defs>

  <rect x="20" y="30" width="290" height="90" class="box" fill="#d5e8d4" stroke="#82b366" />
  <text x="35" y="58" class="t">scripts/run-docker-matrix.sh</text>
  <text x="35" y="80" class="small">(or scripts/run-everything.sh)</text>

  <rect x="20" y="170" width="290" height="110" class="box" fill="#fff2cc" stroke="#d6b656" />
  <text x="35" y="198" class="t">certs/generated</text>
  <text x="35" y="220" class="small">CA + server + client certs</text>
  <text x="35" y="240" class="small">ECDSA P-256</text>

  <rect x="360" y="30" width="310" height="90" class="box" fill="#dae8fc" stroke="#6c8ebf" />
  <text x="375" y="58" class="t">LiteGateway.LoadClient</text>
  <text x="375" y="80" class="small">matrix/autotune benchmark runner</text>
  <text x="375" y="100" class="small">(.NET host process)</text>

  <rect x="360" y="200" width="310" height="90" class="box" fill="#e1d5e7" stroke="#9673a6" />
  <text x="375" y="228" class="t">.run-logs/</text>
  <text x="375" y="250" class="small">dotnet/rust proxy logs + matrix output</text>

  <rect x="730" y="20" width="360" height="130" class="box" fill="#f8cecc" stroke="#b85450" />
  <text x="745" y="48" class="t">Docker service: dotnet-proxy</text>
  <text x="745" y="70" class="small">host: 18080 / 18443 / 19443</text>
  <text x="745" y="90" class="small">container: 8080 / 8443 / 9443</text>
  <text x="745" y="110" class="small">Kestrel + mTLS cert validation</text>

  <rect x="730" y="200" width="360" height="130" class="box" fill="#f8cecc" stroke="#b85450" />
  <text x="745" y="228" class="t">Docker service: rust-proxy</text>
  <text x="745" y="250" class="small">host: 28080 / 28443 / 29443</text>
  <text x="745" y="270" class="small">container: 8080 / 8443 / 9443</text>
  <text x="745" y="290" class="small">Hyper + Rustls + mTLS</text>

  <path d="M310 75 L360 75" class="line" />
  <path d="M165 120 L165 170" class="line" />
  <path d="M310 220 L360 75" class="line" />
  <path d="M670 65 L730 65" class="line" />
  <path d="M670 90 L730 250" class="line" />
  <path d="M310 240 L730 90" class="line" />
  <path d="M310 250 L730 270" class="line" />
  <path d="M515 120 L515 200" class="line" />
</svg>
